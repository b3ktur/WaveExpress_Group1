{% extends 'base.html' %}

{% block title %}Payment In Progress - WaveExpress{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0"><i class="bi bi-credit-card me-2"></i>Payment Processing System</h4>
                </div>
                <div class="card-body text-center">
                    <div class="my-5">
                        <div class="mb-4">
                            <i class="bi bi-tools" style="font-size: 4rem; color: #6c757d;"></i>
                        </div>
                        
                        <div class="alert alert-info">
                            <h3 class="alert-heading">Reservation #{{ reservation.reservation_id|stringformat:"s"|slice:":8" }} Created!</h3>
                            <p>Your reservation for the route <strong>{{ reservation.schedule.route.route_name }}</strong> on <strong>{{ reservation.schedule.departure_time|date:"F d, Y" }}</strong> has been successfully created.</p>
                        </div>
                        
                        <h3 class="mt-4 mb-3">We're Working On It!</h3>
                        <p class="lead">Our online payment gateway is currently under development</p>
                        <p>We apologize for the inconvenience. Your reservation has been successfully created and is now in <span class="badge bg-warning text-dark">PENDING</span> status.</p>
                        
                        <div class="card bg-light mb-4">
                            <div class="card-body">
                                <h5 class="card-title"><i class="bi bi-info-circle-fill me-2 text-primary"></i>Reservation Details</h5>
                                <div class="row mt-3">
                                    <div class="col-md-6 text-md-end fw-bold">From:</div>
                                    <div class="col-md-6 text-md-start">{{ reservation.schedule.route.departure_port.port_name }}</div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-6 text-md-end fw-bold">To:</div>
                                    <div class="col-md-6 text-md-start">{{ reservation.schedule.route.arrival_port.port_name }}</div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-6 text-md-end fw-bold">Departure:</div>
                                    <div class="col-md-6 text-md-start">{{ reservation.schedule.departure_time|date:"F d, Y h:i A" }}</div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-6 text-md-end fw-bold">Ferry:</div>
                                    <div class="col-md-6 text-md-start">{{ reservation.schedule.ferry.ferry_name }}</div>
                                </div>
                                <div class="row mt-2">
                                    <div class="col-md-6 text-md-end fw-bold">Ticket Price:</div>
                                    <div class="col-md-6 text-md-start">â‚±{{ reservation.schedule.price }}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="alert alert-warning">
                            <h5><i class="bi bi-clock-history me-2"></i>Payment Time Limit</h5>
                            <p>You have <strong>24 hours</strong> from now to complete your payment, or your reservation will be automatically cancelled.</p>
                            <p>Current status: <span class="badge bg-warning text-dark">PENDING PAYMENT</span></p>
                        </div>
                        
                        <div class="alert alert-success">
                            <h5><i class="bi bi-credit-card me-2"></i>Payment Instructions</h5>
                            <p>To complete your payment later, go to <strong>My Reservations</strong> and click the <strong>Pay Deposit</strong> button.</p>
                        </div>
                        
                        <div class="progress mb-4" style="height: 30px;">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar" 
                                 style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">
                                Development in Progress (75%)
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2 mt-5">
                            <a href="{% url 'ferry_system:my_reservations' %}" class="btn btn-primary btn-lg">View My Reservations</a>
                            <a href="{% url 'ferry_system:schedule_list' %}" class="btn btn-secondary">Back to Schedules</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Automatically redirect to My Reservations after 5 seconds
    setTimeout(function() {
        window.location.href = "{% url 'ferry_system:my_reservations' %}";
    }, 5000);
</script>
{% endblock %}
